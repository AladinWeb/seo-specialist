<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Learn if you can trade in a financed car in 2025, including tips on managing car loans, equity, and trade-in processes for a smooth transaction.">
  <meta name="keywords" content="trade in financed car, car loan trade-in, vehicle trade-in 2025, car financing, negative equity, trade-in process, loan payoff">
  <meta name="author" content="Olivia Grant">
  <title>Can You Trade in a Financed Car? | 2025 Guide</title>
  <link rel="canonical" href="https://fuseven.net/blog/trade-in-financed-car-2025">
  <link rel="stylesheet" href="/css/blog.css">
  <link rel="stylesheet" href="/css/styles.css">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/x-icon" href="/images/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/images/android-chrome-192x192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="/images/android-chrome-512x512.png">
  <link rel="stylesheet" href="/css/header-footer.css"> 
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
    /* Sidebar popup styles */
    .sidebar-popup {
      position: fixed;
      top: 0;
      right: -100%;
      width: 400px;
      max-width: 90vw;
      height: 100%;
      background-color: #ffffff;
      box-shadow: -4px 0 15px rgba(0, 0, 0, 0.4);
      transition: right 0.4s ease-in-out;
      z-index: 1000;
      overflow-y: auto;
      padding: 25px;
      border-left: 2px solid #3498db;
      background: linear-gradient(135deg, #ffffff 0%, #ecf0f1 100%);
    }
    .sidebar-popup.active {
      right: 0;
    }
    .close-btn {
      position: absolute;
      top: 12px;
      right: 20px;
      cursor: pointer;
      font-size: 28px;
      color: #e74c3c;
      transition: transform 0.3s ease, color 0.3s ease;
    }
    .close-btn:hover {
      color: #c0392b;
      transform: rotate(90deg);
    }
    .popup-content {
      margin-top: 50px;
      flex-grow: 1;
      overflow-y: auto;
      font-size: 16px;
      color: #2c3e50;
      padding: 10px;
      background-color: rgba(255, 255, 255, 0.9);
      border-radius: 8px;
    }
    .term-image {
      width: 100%;
      max-height: 200px;
      object-fit: cover;
      border-radius: 8px;
      margin-bottom: 15px;
    }
    .related-content {
      margin-top: 25px;
      border-top: 3px dashed #3498db;
      padding-top: 20px;
      background-color: #ffffff;
      border-radius: 6px;
      padding: 15px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
    .related-content h3 {
      font-size: 20px;
      margin-bottom: 15px;
      color: #2980b9;
      font-weight: 700;
      text-align: center;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    .source-list {
      list-style-type: none;
      padding: 0;
    }
    .source-list li {
      margin-bottom: 15px;
      transition: transform 0.2s ease;
    }
    .source-list a {
      color: #2980b9;
      text-decoration: none;
      padding: 10px 15px;
      background-color: #ffffff;
      border-radius: 8px;
      display: block;
      transition: all 0.3s ease-in-out;
      border: 2px solid #3498db;
      font-weight: 600;
      text-align: center;
    }
    .source-list a:hover {
      background-color: #3498db;
      color: #ffffff;
      transform: scale(1.05) translateX(10px);
      box-shadow: 0 4px 12px rgba(52, 152, 219, 0.4);
    }
    .source-list a:active {
      background-color: #1a6ea6;
      transform: scale(0.98);
    }
    .source-item {
      display: flex;
      align-items: center;
      margin-bottom: 20px;
    }
    .source-image {
      width: 50px;
      height: 50px;
      object-fit: cover;
      margin-right: 10px;
      border-radius: 5px;
    }
    .source-info {
      flex-grow: 1;
    }
    .source-info a {
      display: block;
      margin-bottom: 5px;
    }
    .source-info p {
      margin: 0;
      font-size: 14px;
      color: #7f8c8d;
    }
    @media (max-width: 600px) {
      .sidebar-popup {
        width: 100vw;
        padding: 15px;
      }
      .close-btn {
        font-size: 22px;
      }
      .popup-content {
        margin-top: 30px;
        font-size: 14px;
      }
      .term-image {
        max-height: 150px;
      }
      .related-content h3 {
        font-size: 18px;
      }
      .source-list a {
        padding: 8px 10px;
      }
      .source-image {
        width: 40px;
        height: 40px;
      }
    }
  </style>
</head>
<body>
  <header id="header" class="sticky-header"></header>
  <main>
    <div class="blog-post" vocab="https://schema.org/" typeof="Article">
      <div class="featured-image-container">
        <img src="/images/financed-car-trade-in-placeholder.webp" alt="Trading in a Financed Car" class="featured-image">
      </div>
      <div class="author">By Olivia Grant | 08:54 PM PST, August 18, 2025</div>
      <h1 property="headline">Can You Trade in a Financed Car? | 2025 Guide</h1>
      <p>Trading in a car that’s still under a loan is a common question for many looking to upgrade their vehicle in 2025. The short answer is yes, you can trade in a financed car, but there are key factors to consider, such as your car’s equity, loan payoff amount, and the dealership’s process. This guide breaks down the essentials to help you navigate the trade-in process smoothly.</p>
      <p>Understanding your car’s value and loan balance is critical to avoid surprises. We’ve compiled tips and strategies based on expert advice to ensure you make informed decisions. <a href="#" class="popup-link" data-section="Can You Trade in a Financed Car?">Negative Equity</a></p>

      <h2>Understanding Car Financing and Trade-Ins</h2>
      <p>When you trade in a financed car, the dealership typically pays off the remaining loan balance as part of the transaction. However, whether you owe more than the car’s worth (negative equity) or have positive equity impacts the deal.</p>
      <p>Positive equity means your car’s market value exceeds the loan balance, giving you extra value toward a new vehicle. Negative equity, however, may require you to pay the difference or roll it into a new loan, which could increase your payments.</p>
      <p>Checking your loan terms and current vehicle value through tools like Kelley Blue Book is a smart first step. <a href="#" class="popup-link" data-section="Understanding Car Financing and Trade-Ins">Loan Payoff</a></p>

      <h2>How the Trade-In Process Works</h2>
      <p>The trade-in process for a financed car involves several steps. First, the dealership appraises your vehicle to determine its trade-in value. Then, they contact your lender to confirm the payoff amount.</p>
      <p>If you have positive equity, the dealer applies the surplus toward your new car’s purchase. If there’s negative equity, you may need to cover the difference or include it in the new loan, which requires careful budgeting.</p>
      <p>Dealerships often streamline this process, but transparency is key—always review the numbers. <a href="#" class="popup-link" data-section="How the Trade-In Process Works">Trade-In Process</a></p>

      <h3>Steps to Trade in a Financed Car</h3>
      <p>1. Check your loan balance with your lender.</p>
      <p>2. Get a trade-in estimate from multiple dealerships or online tools.</p>
      <p>3. Compare the trade-in value to your loan payoff amount.</p>
      <p>4. Negotiate the trade-in value and new car price separately for the best deal.</p>
      <p>5. Review all paperwork to ensure the loan payoff is handled correctly. <a href="#" class="popup-link" data-section="Steps to Trade in a Financed Car">Vehicle Valuation</a></p>

      <h3>Tips for a Successful Trade-In</h3>
      <p>Research your car’s market value beforehand to negotiate confidently. Paying down your loan before trading can increase equity. Consider selling privately if you have significant negative equity, as it may yield a higher price.</p>
      <p>Be cautious about rolling negative equity into a new loan, as it can lead to higher interest costs. Always shop around for the best trade-in offer. <a href="#" class="popup-link" data-section="Tips for a Successful Trade-In">Negotiation</a></p>

      <h2>Key Considerations for 2025</h2>
      <p>In 2025, rising interest rates and fluctuating car values impact trade-ins. Electric vehicles (EVs) are increasingly popular, and their trade-in values may vary based on battery condition and market demand.</p>
      <p>Dealerships may offer incentives for trading in gas-powered cars for EVs, but check if these align with your financial goals. Understanding tax credits and local regulations can also affect your decision. <a href="#" class="popup-link" data-section="Key Considerations for 2025">Market Trends</a></p>

      <h2>Common Pitfalls to Avoid</h2>
      <p>Avoid rushing into a trade-in without researching your car’s value or loan terms. Not reviewing the new loan agreement closely can lead to unfavorable terms. Be wary of dealers who lowball your trade-in value to offset a “discount” on the new car.</p>
      <p>Ensure all loan payoff details are clear to avoid unexpected fees. <a href="#" class="popup-link" data-section="Common Pitfalls to Avoid">Loan Terms</a></p>

      <h2>Why Trading In a Financed Car Makes Sense</h2>
      <p>Trading in a financed car can simplify the process of getting a new vehicle without the hassle of selling privately. Dealerships handle the loan payoff, saving you time. If you have positive equity, it can reduce the cost of your new car.</p>
      <p>For those looking to upgrade to a more fuel-efficient or advanced vehicle in 2025, trading in can align with long-term savings goals. <a href="#" class="popup-link" data-section="Why Trading In a Financed Car Makes Sense">Positive Equity</a></p>

      <p>As of 08:54 PM PST, August 18, 2025, trading in a financed car is a viable option with proper planning. Ready to start? Research your car’s value and loan terms today.

      <script type="application/ld+json">
        {
          "@context": "https://schema.org",
          "@type": "BlogPosting",
          "headline": "Can You Trade in a Financed Car? | 2025 Guide",
          "description": "Learn if you can trade in a financed car in 2025, including tips on managing car loans, equity, and trade-in processes for a smooth transaction.",
          "author": {
            "@type": "Person",
            "name": "Olivia Grant"
          },
          "datePublished": "2025-08-18T20:54:00-07:00",
          "dateModified": "2025-08-18T20:54:00-07:00",
          "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://fuseven.net/blog/trade-in-financed-car-2025"
          },
          "image": "https://fuseven.net/images/financed-car-trade-in-placeholder.webp",
          "publisher": {
            "@type": "Organization",
            "name": "Fuseven",
            "logo": {
              "@type": "ImageObject",
              "url": "https://fuseven.net/images/logo.png"
            }
          },
          "citation": [
            {
              "@type": "WebPage",
              "url": "https://www.caranddriver.com/auto-loans/a45602267/how-to-trade-in-financed-car/",
              "name": "How to Trade in a Financed Car"
            },
            {
              "@type": "WebPage",
              "url": "https://www.nerdwallet.com/article/loans/auto-loans/trade-in-car-when-you-owe-money",
              "name": "How to Trade In a Car When You Owe Money"
            },
            {
              "@type": "WebPage",
              "url": "https://www.kbb.com/car-advice/trade-in-financed-car/",
              "name": "Trading In a Car with a Loan"
            }
          ]
        }
      </script>
    </div>
  </main>
  <footer id="footer"></footer>

  <!-- Sidebar Popup Container -->
  <div id="sidebarPopup" class="sidebar-popup">
    <span class="close-btn" onclick="hidePopup()">&times;</span>
    <div id="popupContent" class="popup-content"></div>
    <div id="relatedContent" class="related-content">
      <h3>Related Article</h3>
      <ul id="sourceList" class="source-list"></ul>
    </div>
  </div>

  <script>
    async function fetchUnsplashImage(query) {
      try {
        // Demo Unsplash client ID (replace with your own for production: https://unsplash.com/developers)
        const clientId = 'y0BLCiZ46bO19M_4i6a2vL3V1GyL-0VHBmLJDpA9i-Y';
        const response = await fetch(`https://api.unsplash.com/search/photos?query=${encodeURIComponent(query)}&per_page=1&client_id=${clientId}`);
        const data = await response.json();
        if (data.results && data.results.length > 0) {
          return data.results[0].urls.regular; // Use regular size image
        }
        // Fallback query if no results
        const fallbackResponse = await fetch(`https://api.unsplash.com/search/photos?query=car&per_page=1&client_id=${clientId}`);
        const fallbackData = await fallbackResponse.json();
        return fallbackData.results[0]?.urls.regular || '/images/default-image.jpg';
      } catch (error) {
        console.error(`Error fetching image for query "${query}":`, error);
        return '/images/default-image.jpg'; // Fallback to default image
      }
    }

    async function showPopup(event, section) {
      if (event) event.preventDefault();
      
      const popupContent = document.getElementById('popupContent');
      const sourceList = document.getElementById('sourceList');
      const sidebarPopup = document.getElementById('sidebarPopup');
      
      // Clear previous content
      popupContent.innerHTML = `<h2>${section}</h2>`;
      sourceList.innerHTML = '';
      
      // Show popup
      sidebarPopup.classList.add('active');

      // Define term explanations, search queries for images, references, and single related article per section
      const relatedContent = {
        'Can You Trade in a Financed Car?': {
          term: 'Negative Equity',
          termQuery: 'negative equity finance', // Query for Unsplash
          termExplanation: `
            <h3>About Negative Equity</h3>
            <p>Negative equity occurs when the outstanding loan balance on your car exceeds its current market value. This situation is common when trading in a financed car, especially if the vehicle has depreciated quickly or the loan term is long. For example, if you owe $15,000 on your car loan but the dealership values your car at $12,000, you have $3,000 in negative equity. This can complicate a trade-in, as you may need to pay the difference out of pocket or roll it into a new loan, increasing your monthly payments. Managing negative equity involves researching your car’s value and paying down the loan before trading to minimize financial strain.</p>
          `,
          references: [
            {title: 'How to Trade in a Financed Car', url: 'https://www.caranddriver.com/auto-loans/a45602267/how-to-trade-in-financed-car/', used: 'Information on trading in a financed car and managing equity.'},
            {title: 'How to Trade In a Car When You Owe Money', url: 'https://www.nerdwallet.com/article/loans/auto-loans/trade-in-car-when-you-owe-money', used: 'Details on negative equity and its impact on trade-ins.'},
            {title: 'Trading In a Car with a Loan', url: 'https://www.kbb.com/car-advice/trade-in-financed-car/', used: 'Guidance on understanding car valuation and loan balances.'}
          ],
          article: {title: 'How to Trade In a Car When You Owe Money', url: 'https://www.nerdwallet.com/article/loans/auto-loans/trade-in-car-when-you-owe-money', description: 'A guide on handling negative equity when trading in a financed car.'}
        },
        'Understanding Car Financing and Trade-Ins': {
          term: 'Loan Payoff',
          termQuery: 'car loan payoff', // Query for Unsplash
          termExplanation: `
            <h3>About Loan Payoff</h3>
            <p>Loan payoff refers to the total amount required to fully settle your car loan, including the principal, interest, and any fees. When trading in a financed car, the dealership contacts your lender to confirm this amount. If the payoff is less than the car’s trade-in value, you have positive equity to apply toward a new vehicle. If it’s higher, you face negative equity, which may need to be covered or rolled into a new loan. Understanding the payoff amount is crucial, as it directly affects the financial outcome of your trade-in.</p>
          `,
          references: [
            {title: 'Car Financing and Trade-In Guide', url: 'https://www.caranddriver.com/auto-loans/a45602267/how-to-trade-in-financed-car/', used: 'Overview of financing and loan payoff processes.'},
            {title: 'Negative Equity in Car Trade-Ins', url: 'https://www.nerdwallet.com/article/loans/auto-loans/trade-in-car-when-you-owe-money', used: 'Explanation of how loan payoff impacts equity.'},
            {title: 'Vehicle Valuation Tools', url: 'https://www.kbb.com/car-advice/trade-in-financed-car/', used: 'Use of valuation tools to compare with loan payoff.'}
          ],
          article: {title: 'Negative Equity in Car Trade-Ins', url: 'https://www.nerdwallet.com/article/loans/auto-loans/trade-in-car-when-you-owe-money', description: 'Explores loan payoff challenges in trade-ins.'}
        },
        'How the Trade-In Process Works': {
          term: 'Trade-In Process',
          termQuery: 'car trade-in', // Query for Unsplash
          termExplanation: `
            <h3>About Trade-In Process</h3>
            <p>The trade-in process involves exchanging your current vehicle for credit toward a new car at a dealership. For a financed car, this includes appraising the vehicle, confirming the loan payoff amount with your lender, and determining equity. The dealership handles the loan payoff, applying any positive equity to the new purchase or addressing negative equity. Transparency in reviewing the appraisal and loan terms ensures a fair deal, making the trade-in process a streamlined way to upgrade your vehicle.</p>
          `,
          references: [
            {title: 'Trade-In Process Explained', url: 'https://www.caranddriver.com/auto-loans/a45602267/how-to-trade-in-financed-car/', used: 'Description of the trade-in process steps.'},
            {title: 'Loan Payoff in Trade-Ins', url: 'https://www.nerdwallet.com/article/loans/auto-loans/trade-in-car-when-you-owe-money', used: 'Details on loan payoff within the trade-in process.'},
            {title: 'Dealership Trade-In Tips', url: 'https://www.kbb.com/car-advice/trade-in-financed-car/', used: 'Tips for navigating the trade-in process.'}
          ],
          article: {title: 'Trade-In Process Explained', url: 'https://www.caranddriver.com/auto-loans/a45602267/how-to-trade-in-financed-car/', description: 'A detailed breakdown of the trade-in process for financed cars.'}
        },
        'Steps to Trade in a Financed Car': {
          term: 'Vehicle Valuation',
          termQuery: 'car valuation', // Query for Unsplash
          termExplanation: `
            <h3>About Vehicle Valuation</h3>
            <p>Vehicle valuation is the process of determining your car’s current market value during a trade-in. Dealerships appraise your car based on its condition, mileage, and market demand, often using tools like Kelley Blue Book or Edmunds. Accurate valuation is critical when trading a financed car, as it determines whether you have positive or negative equity compared to your loan payoff. Researching your car’s value beforehand helps you negotiate a fair trade-in offer.</p>
          `,
          references: [
            {title: 'Step-by-Step Trade-In Guide', url: 'https://www.caranddriver.com/auto-loans/a45602267/how-to-trade-in-financed-car/', used: 'Steps involving vehicle valuation.'},
            {title: 'Loan Balance and Trade-Ins', url: 'https://www.nerdwallet.com/article/loans/auto-loans/trade-in-car-when-you-owe-money', used: 'Comparing loan balance to vehicle value.'},
            {title: 'Negotiating Trade-In Value', url: 'https://www.kbb.com/car-advice/trade-in-financed-car/', used: 'Importance of valuation in negotiations.'}
          ],
          article: {title: 'Negotiating Trade-In Value', url: 'https://www.kbb.com/car-advice/trade-in-financed-car/', description: 'Tips for securing a fair vehicle valuation during trade-ins.'}
        },
        'Tips for a Successful Trade-In': {
          term: 'Negotiation',
          termQuery: 'car negotiation', // Query for Unsplash
          termExplanation: `
            <h3>About Negotiation</h3>
            <p>Negotiation in a car trade-in involves discussing the trade-in value of your vehicle and the price of the new car separately to secure the best deal. When trading a financed car, effective negotiation can maximize positive equity or minimize the impact of negative equity. Researching your car’s market value and comparing offers from multiple dealerships strengthens your position. Avoid accepting lowball offers that offset new car discounts, and ensure all terms are clear.</p>
          `,
          references: [
            {title: 'Trade-In Negotiation Tips', url: 'https://www.caranddriver.com/auto-loans/a45602267/how-to-trade-in-financed-car/', used: 'Strategies for negotiating trade-in value.'},
            {title: 'Avoiding Negative Equity', url: 'https://www.nerdwallet.com/article/loans/auto-loans/trade-in-car-when-you-owe-money', used: 'Negotiation to manage equity.'},
            {title: 'Maximizing Trade-In Value', url: 'https://www.kbb.com/car-advice/trade-in-financed-car/', used: 'Tips for effective negotiation.'}
          ],
          article: {title: 'Maximizing Trade-In Value', url: 'https://www.kbb.com/car-advice/trade-in-financed-car/', description: 'Strategies for negotiating the best trade-in value.'}
        },
        'Key Considerations for 2025': {
          term: 'Market Trends',
          termQuery: 'car market trends', // Query for Unsplash
          termExplanation: `
            <h3>About Market Trends</h3>
            <p>Market trends in 2025, such as rising interest rates and growing demand for electric vehicles (EVs), significantly impact car trade-ins. EVs may have fluctuating trade-in values based on battery condition and market demand, while gas-powered car trade-ins may benefit from EV incentives. Understanding these trends helps you time your trade-in and evaluate offers, especially when dealing with a financed car’s equity and loan terms.</p>
          `,
          references: [
            {title: '2025 Car Market Trends', url: 'https://www.caranddriver.com/auto-loans/a45602267/how-to-trade-in-financed-car/', used: 'Insights on 2025 market trends affecting trade-ins.'},
            {title: 'EV Trade-In Considerations', url: 'https://www.nerdwallet.com/article/loans/auto-loans/trade-in-car-when-you-owe-money', used: 'EV market trends and trade-ins.'},
            {title: 'Incentives and Tax Credits', url: 'https://www.kbb.com/car-advice/trade-in-financed-car/', used: 'Market incentives for trade-ins.'}
          ],
          article: {title: 'Incentives and Tax Credits', url: 'https://www.kbb.com/car-advice/trade-in-financed-car/', description: 'How 2025 market trends influence trade-in incentives.'}
        },
        'Common Pitfalls to Avoid': {
          term: 'Loan Terms',
          termQuery: 'car loan terms', // Query for Unsplash
          termExplanation: `
            <h3>About Loan Terms</h3>
            <p>Loan terms refer to the conditions of your car loan, including interest rate, duration, and any prepayment penalties. When trading in a financed car, understanding these terms is critical to avoid surprises, such as unexpected fees or high payoff amounts. Failing to review loan terms can lead to unfavorable trade-in outcomes, especially if negative equity is rolled into a new loan, increasing long-term costs.</p>
          `,
          references: [
            {title: 'Avoiding Trade-In Mistakes', url: 'https://www.caranddriver.com/auto-loans/a45602267/how-to-trade-in-financed-car/', used: 'Pitfalls related to loan terms.'},
            {title: 'Understanding Loan Terms', url: 'https://www.nerdwallet.com/article/loans/auto-loans/trade-in-car-when-you-owe-money', used: 'Importance of reviewing loan terms.'},
            {title: 'Dealer Trade-In Pitfalls', url: 'https://www.kbb.com/car-advice/trade-in-financed-car/', used: 'Loan term considerations in trade-ins.'}
          ],
          article: {title: 'Understanding Loan Terms', url: 'https://www.nerdwallet.com/article/loans/auto-loans/trade-in-car-when-you-owe-money', description: 'How loan terms affect trade-in decisions.'}
        },
        'Why Trading In a Financed Car Makes Sense': {
          term: 'Positive Equity',
          termQuery: 'positive equity car', // Query for Unsplash
          termExplanation: `
            <h3>About Positive Equity</h3>
            <p>Positive equity occurs when your car’s market value exceeds the outstanding loan balance, providing extra credit toward a new vehicle during a trade-in. For example, if your car is worth $20,000 and you owe $15,000, you have $5,000 in positive equity. This can lower the cost of your new car, making trading in a financed car appealing. Leveraging positive equity requires accurate vehicle valuation and a clear understanding of your loan payoff.</p>
          `,
          references: [
            {title: 'Benefits of Trading In', url: 'https://www.caranddriver.com/auto-loans/a45602267/how-to-trade-in-financed-car/', used: 'Advantages of positive equity in trade-ins.'},
            {title: 'Simplifying Vehicle Upgrades', url: 'https://www.nerdwallet.com/article/loans/auto-loans/trade-in-car-when-you-owe-money', used: 'Role of positive equity in simplifying trade-ins.'},
            {title: 'Positive Equity Advantages', url: 'https://www.kbb.com/car-advice/trade-in-financed-car/', used: 'Benefits of leveraging positive equity.'}
          ],
          article: {title: 'Positive Equity Advantages', url: 'https://www.kbb.com/car-advice/trade-in-financed-car/', description: 'How positive equity enhances trade-in outcomes.'}
        }
      };

      const sectionData = relatedContent[section] || { term: '', termQuery: 'car', termExplanation: '<p>No content available.</p>', references: [], article: null };

      // Fetch term image from Unsplash
      const termImageUrl = await fetchUnsplashImage(sectionData.termQuery);

      // Populate popup content with term image, explanation, and references
      popupContent.innerHTML += `
        <img src="${termImageUrl}" alt="${sectionData.term} image" class="term-image">
        ${sectionData.termExplanation}
        <h3>References</h3>
        <ul>
          ${sectionData.references.map(ref => `
            <li>
              <p><strong>${ref.title}</strong></p>
              <p><a href="${ref.url}" target="_blank">${ref.url}</a></p>
              <p><em>Used for: ${ref.used}</em></p>
            </li>
          `).join('')}
        </ul>
      `;

      // Populate single related article
      if (sectionData.article) {
        try {
          const response = await fetch(`https://api.allorigins.win/get?url=${encodeURIComponent(sectionData.article.url)}`);
          const data = await response.json();
          const parser = new DOMParser();
          const doc = parser.parseFromString(data.contents, 'text/html');
          
          let imageUrl = doc.querySelector('meta[property="og:image"]')?.getAttribute('content') ||
                        doc.querySelector('img')?.src || '/images/default-image.jpg';
          if (imageUrl && !imageUrl.startsWith('http')) {
            imageUrl = new URL(imageUrl, sectionData.article.url).href;
          }

          let excerpt = doc.querySelector('meta[name="description"]')?.getAttribute('content') ||
                       doc.querySelector('p')?.textContent.substring(0, 100) || 'No description available.';
          excerpt = excerpt.replace(/^\s+|\s+$/g, '') + ' - Enhanced for your trade-in journey!';

          const li = document.createElement('li');
          li.className = 'source-item';
          li.innerHTML = `
            <img src="${imageUrl}" alt="${sectionData.article.title} image" class="source-image">
            <div class="source-info">
              <a href="${sectionData.article.url}" target="_blank">${sectionData.article.title}</a>
              <p>${excerpt}</p>
            </div>
          `;
          sourceList.appendChild(li);
        } catch (error) {
          console.error(`Error fetching data for ${sectionData.article.url}:`, error);
          const li = document.createElement('li');
          li.className = 'source-item';
          li.innerHTML = `
            <img src="/images/default-image.jpg" alt="${sectionData.article.title} image" class="source-image">
            <div class="source-info">
              <a href="${sectionData.article.url}" target="_blank">${sectionData.article.title}</a>
              <p>Unable to fetch description - Check the link for more details!</p>
            </div>
          `;
          sourceList.appendChild(li);
        }
      }
    }

    function hidePopup() {
      const sidebarPopup = document.getElementById('sidebarPopup');
      sidebarPopup.classList.remove('active');
      document.getElementById('popupContent').innerHTML = '';
      document.getElementById('sourceList').innerHTML = '';
    }

    // Initialize popup links
    document.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll('.popup-link').forEach(link => {
        link.addEventListener('click', (event) => {
          const section = link.getAttribute('data-section');
          showPopup(event, section);
        });
      });
    });

    // Close popup when clicking outside
    document.addEventListener('click', (event) => {
      const sidebarPopup = document.getElementById('sidebarPopup');
      const popupLinks = document.querySelectorAll('.popup-link');
      const isLinkClick = Array.from(popupLinks).some(link => link.contains(event.target));
      
      if (!sidebarPopup.contains(event.target) && !isLinkClick && sidebarPopup.classList.contains('active')) {
        hidePopup();
      }
    });

    // Prevent popup content click from closing the popup
    document.getElementById('sidebarPopup').addEventListener('click', (event) => {
      event.stopPropagation();
    });
  </script>
  <script src="/js/blog-posts.js"></script>
  <script src="/js/scripts.js"></script>
</body>
</html>